<ul role="list" class="m-6 mt-12 grid grid-cols-1 gap-x-8 gap-y-8 sm:grid-cols-2 sm:gap-x-8 lg:grid-cols-3 lg:gap-16 text-black">
  {{ collection:interiors sort="order" }}
  <li class="relative col-span-1 group js-show-on-scroll">
    <div class="block w-full aspect-w-10 aspect-h-7 focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-offset-gray-100 focus-within:ring-indigo-500 overflow-hidden">
      {{ assets:images limit="1" }}
      {{ if first }}
      <img src="{{ glide:url width="600" height="400" fit="crop" fm="jpg" }}" alt="" class="object-cover pointer-events-none">
      {{ else }}
      {{ /if }}
      {{ /assets:images }}

      {{ if ! in_progress }}
        <a href="{{ url }}" class="absolute inset-0 focus:outline-none">
          <span class="sr-only">View {{ title }}</span>
        </a>
      {{ /if }}
    </div>
    <div class="mt-2 block font-louizeDisplay">
      <div class="flex items-center flex-col">
        <p class="px-2 m-auto inline-block text-base font-semibold truncate pointer-events-none text-center">
           {{ title }}{{ if location }}, {{ location }}{{ /if }} {{ if in_progress }}<span class="m-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-lightblack text-offwhite opacity-50 uppercase font-karla">
             In Progress
           </span>{{ /if }}</p>
      </div>
    </div>
  </li>
  {{ /collection:interiors }}
</ul>

<script type="text/javascript">
  // Fade in on scroll
    const callback = function (entries) {
    entries.forEach((entry) => {
      console.log(entry);

      if (entry.isIntersecting) {
        entry.target.classList.add("animate-fadeIn");
      } else {
        entry.target.classList.remove("animate-fadeIn");
      }
    });
  };

  const observer = new IntersectionObserver(callback);

  const targets = document.querySelectorAll(".js-show-on-scroll");
  targets.forEach(function (target) {
    target.classList.add("opacity-0");
    observer.observe(target);
  });

</script>
